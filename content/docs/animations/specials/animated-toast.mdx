---
title: Animated Toast
description: Detailed toast notification with slide-in animation, icon, and auto-dismiss progress bar.
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Preview } from '@/components/preview';
import { AnimatedToast } from '@/registry/new-york/animations/specials/animated-toast';
import { ToastProvider, ToastTrigger } from '@/registry/new-york/animations/specials/toast-trigger';

## Overview

The `AnimatedToast` component creates a polished toast notification with smooth slide-in animation, animated icon path drawing, auto-dismiss progress bar, and stacked layout support. Use with `ToastProvider` and `ToastTrigger` for a complete toast system that stacks multiple notifications like Sonner.

## Preview

<Preview
  background="grid"
  code={`import { ToastProvider, ToastTrigger } from "@/components/animations/specials/toast-trigger"

<ToastProvider>
  <div className="flex gap-2">
    <ToastTrigger 
      buttonText="Success"
      toastMessage="Payment processed" 
      toastDescription="Your payment has been successfully processed."
      toastType="success"
    />
    <ToastTrigger 
      buttonText="Error"
      toastMessage="Something went wrong" 
      toastDescription="We couldn't process your request."
      toastType="error"
    />
  </div>
</ToastProvider>`}
>
  <ToastProvider>
    <div className="flex flex-wrap gap-2">
      <ToastTrigger 
        buttonText="Success"
        toastMessage="Payment processed" 
        toastDescription="Your payment has been successfully processed."
        toastType="success"
      />
      <ToastTrigger 
        buttonText="Error"
        toastMessage="Something went wrong" 
        toastDescription="We couldn't process your request."
        toastType="error"
      />
      <ToastTrigger 
        buttonText="Info"
        toastMessage="New update available" 
        toastType="info"
      />
    </div>
  </ToastProvider>
</Preview>

## Installation

<Tabs items={['CLI', 'Manual']}>
  <Tab value="CLI">
    ```bash
    npx shadcn add https://animbits.dev/r/specials-animated-toast.json
    ```
  </Tab>
  <Tab value="Manual">
**Step 1: Install dependencies**

    ```bash
    npm install motion
    ```

    **Step 2: Copy the component**

```tsx title="components/animations/specials/animated-toast.tsx"
"use client";
import * as React from "react";
import * as motion from "motion/react-client";
import type { Easing } from "motion/react";
import { cn } from "@/lib/utils";

export interface AnimatedToastProps {
  message: string;
  type?: "success" | "error" | "info" | "warning";
  duration?: number;
  onClose?: () => void;
  className?: string;
}

export function AnimatedToast({
  message,
  type = "success",
  duration = 3000,
  onClose,
  className,
}: AnimatedToastProps) {
  const [isVisible, setIsVisible] = React.useState(true);
  const [progress, setProgress] = React.useState(100);

  React.useEffect(() => {
    const progressInterval = setInterval(() => {
      setProgress((prev) => {
        const newProgress = prev - (100 / (duration / 50));
        return newProgress <= 0 ? 0 : newProgress;
      });
    }, 50);

    const timer = setTimeout(() => {
      setIsVisible(false);
      setTimeout(() => onClose?.(), 300);
    }, duration);

    return () => {
      clearInterval(progressInterval);
      clearTimeout(timer);
    };
  }, [duration, onClose]);

  const colors = {
    success: { bg: "#10b981", icon: "#dcfce7" },
    error: { bg: "#ef4444", icon: "#fee2e2" },
    info: { bg: "#3b82f6", icon: "#dbeafe" },
    warning: { bg: "#f59e0b", icon: "#fef3c7" },
  };

  const iconPath = {
    success: "M 12 5 L 12 18 M 7 13 L 12 18 L 17 13",
    error: "M 8 8 L 16 16 M 16 8 L 8 16",
    info: "M 12 11 L 12 16 M 12 8 L 12 9",
    warning: "M 12 8 L 12 13 M 12 15 L 12 16",
  };

  return (
    <motion.div
      className={cn(
        "relative overflow-hidden rounded-lg shadow-lg backdrop-blur-sm",
        className
      )}
      initial={{ x: 400, opacity: 0, scale: 0.8 }}
      animate={
        isVisible
          ? { x: 0, opacity: 1, scale: 1 }
          : { x: 400, opacity: 0, scale: 0.8 }
      }
      transition={{
        type: "spring",
        stiffness: 300,
        damping: 30,
      }}
      style={{
        background: \`linear-gradient(135deg, \${colors[type].bg}dd, \${colors[type].bg}ee)\`,
      }}
    >
      <div className="flex items-center gap-3 px-4 py-3 pr-12">
        <motion.div
          initial={{ scale: 0, rotate: -180 }}
          animate={{ scale: 1, rotate: 0 }}
          transition={{
            delay: 0.2,
            type: "spring",
            stiffness: 400,
            damping: 15,
          }}
        >
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <motion.circle
              cx="12"
              cy="12"
              r="10"
              fill={colors[type].icon}
              initial={{ scale: 0 }}
              animate={{ scale: 1 }}
              transition={{ delay: 0.1, duration: 0.3 }}
            />
            <motion.path
              d={iconPath[type]}
              stroke={colors[type].bg}
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              initial={{ pathLength: 0 }}
              animate={{ pathLength: 1 }}
              transition={{
                delay: 0.3,
                duration: 0.4,
                ease: "easeOut" as Easing,
              }}
            />
          </svg>
        </motion.div>

        <motion.p
          className="text-sm font-medium text-white"
          initial={{ opacity: 0, y: 10 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2, duration: 0.3 }}
        >
          {message}
        </motion.p>

        <motion.button
          onClick={() => {
            setIsVisible(false);
            setTimeout(() => onClose?.(), 300);
          }}
          className="absolute right-2 top-2 rounded-full p-1 text-white/80 hover:bg-white/20 hover:text-white"
          whileHover={{ scale: 1.1 }}
          whileTap={{ scale: 0.9 }}
        >
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path
              d="M 4 4 L 12 12 M 12 4 L 4 12"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
            />
          </svg>
        </motion.button>
      </div>

      <motion.div
        className="h-1 bg-white/30"
        initial={{ scaleX: 1 }}
        animate={{ scaleX: progress / 100 }}
        style={{ transformOrigin: "left" }}
        transition={{ duration: 0.05, ease: "linear" as Easing }}
      />
    </motion.div>
  );
}
```


**Step 3: Copy the trigger component (Optional)**

If you want to use the `ToastProvider` and `ToastTrigger` system:

```tsx title="components/animations/specials/toast-trigger.tsx"
"use client";
import * as React from "react";
import * as motion from "motion/react-client";
import type { Easing } from "motion/react";
import { AnimatedToast } from "./animated-toast";

interface Toast {
    id: number;
    message: string;
    description?: string;
    type?: "default" | "success" | "error" | "info" | "warning";
}

const ToastContext = React.createContext<{
    addToast: (toast: Omit<Toast, "id">) => void;
} | null>(null);

export function useToast() {
    const context = React.useContext(ToastContext);
    if (!context) {
        throw new Error("useToast must be used within ToastProvider");
    }
    return context;
}

export function ToastProvider({
    children,
    maxToasts = 5
}: {
    children: React.ReactNode;
    maxToasts?: number
}) {
    const [toasts, setToasts] = React.useState<Toast[]>([]);
    const nextId = React.useRef(0);

    const addToast = React.useCallback((toast: Omit<Toast, "id">) => {
        const id = nextId.current++;
        setToasts((prev) => {
            const newToasts = [...prev, { ...toast, id }];
            return newToasts.slice(-maxToasts);
        });
    }, [maxToasts]);

    const removeToast = React.useCallback((id: number) => {
        setToasts((prev) => prev.filter((t) => t.id !== id));
    }, []);

    return (
        <ToastContext.Provider value={{ addToast }}>
            {children}
            <div className="pointer-events-none fixed top-0 right-0 z-[100] flex flex-col items-end p-4">
                <div className="relative">
                    {toasts.map((toast, index) => {
                        // Bottom toast = index 0, top toast = last index
                        // We want top toast fully visible, others slightly behind
                        const fromTop = toasts.length - 1 - index;
                        const isTopToast = fromTop === 0;

                        return (
                            <motion.div
                                key={toast.id}
                                layout
                                className="absolute top-0 right-0"
                                initial={{ opacity: 0, y: -100, scale: 0.95 }}
                                animate={{
                                    y: fromTop * 4,
                                    scale: 1 - fromTop * 0.05,
                                    opacity: isTopToast ? 1 : 0.75,
                                }}
                                exit={{
                                    opacity: 0,
                                    y: -20,
                                    scale: 0.9,
                                    transition: { duration: 0.2 }
                                }}
                                transition={{
                                    duration: 0.2,
                                    ease: [0.16, 1, 0.3, 1] as Easing,
                                }}
                                style={{
                                    zIndex: 100 + index,
                                    pointerEvents: isTopToast ? "auto" : "none",
                                }}
                            >
                                <AnimatedToast
                                    message={toast.message}
                                    description={toast.description}
                                    type={toast.type}
                                    duration={4000}
                                    onClose={() => removeToast(toast.id)}
                                />
                            </motion.div>
                        );
                    })}
                </div>
            </div>
        </ToastContext.Provider>
    );
}

export interface ToastTriggerProps {
    buttonText?: string;
    toastMessage?: string;
    toastDescription?: string;
    toastType?: "default" | "success" | "error" | "info" | "warning";
    className?: string;
}

export function ToastTrigger({
    buttonText = "Show Toast",
    toastMessage = "Event has been created",
    toastDescription,
    toastType = "default",
    className,
}: ToastTriggerProps) {
    const context = React.useContext(ToastContext);
    const [showToast, setShowToast] = React.useState(false);
    const [toastKey, setToastKey] = React.useState(0);

    const handleClick = () => {
        if (context) {
            context.addToast({
                message: toastMessage,
                description: toastDescription,
                type: toastType,
            });
        } else {
            setShowToast(true);
            setToastKey((prev) => prev + 1);
        }
    };

    const handleToastClose = () => {
        setShowToast(false);
    };

    const buttonStyles = {
        default: "bg-white text-zinc-900 hover:bg-zinc-100 border border-zinc-300",
        success: "bg-emerald-500 text-white hover:bg-emerald-600",
        error: "bg-red-500 text-white hover:bg-red-600",
        info: "bg-blue-500 text-white hover:bg-blue-600",
        warning: "bg-amber-500 text-white hover:bg-amber-600",
    };

    return (
        <>
            <motion.button
                onClick={handleClick}
                className={`rounded-md px-4 py-2 text-sm font-medium shadow-sm transition-colors ${buttonStyles[toastType]} ${className || ""}`}
                whileHover={{ scale: 1.02 }}
                whileTap={{ scale: 0.98 }}
            >
                {buttonText}
            </motion.button>

            {!context && showToast && (
                <div className="pointer-events-none fixed top-4 right-4 z-50">
                    <AnimatedToast
                        key={toastKey}
                        message={toastMessage}
                        description={toastDescription}
                        type={toastType}
                        duration={4000}
                        onClose={handleToastClose}
                    />
                </div>
            )}
        </>
    );
}
```
  </Tab>
</Tabs>

## Usage

### With Toast Provider (Recommended)

First, wrap your app with the ToastProvider:

```tsx
import { ToastProvider } from "@/components/animations/specials/toast-trigger"

export default function App() {
  return (
    <ToastProvider maxToasts={3}>
      {/* Your app content */}
    </ToastProvider>
  )
}
```

Then use ToastTrigger anywhere in your app:

```tsx
import { ToastTrigger } from "@/components/animations/specials/toast-trigger"

export default function Example() {
  return (
    <ToastTrigger 
      buttonText="Save Changes"
      toastMessage="Changes saved successfully!"
      toastDescription="Your preferences have been updated."
      toastType="success"
    />
  )
}
```

### Using the Hook

```tsx
import { useToast } from "@/components/animations/specials/toast-trigger"

export default function Example() {
  const { addToast } = useToast()
  
  const handleSave = () => {
    addToast({
      message: "Saved!",
      description: "Your changes have been saved.",
      type: "success"
    })
  }
  
  return <button onClick={handleSave}>Save</button>
}
```

### Direct Usage

```tsx
import { AnimatedToast } from "@/components/animations/specials/animated-toast"

export default function Example() {
  const [show, setShow] = useState(false)
  
  return (
    <>
      <button onClick={() => setShow(true)}>Show Toast</button>
      {show && (
        <AnimatedToast 
          message="Item added to cart!"
          type="success"
          duration={3000}
          onClose={() => setShow(false)}
        />
      )}
    </>
  )
}
```

## Examples

### Stacked Toasts

Click multiple buttons quickly to see the stacking effect:

<Preview
  background="dots"
  code={`<ToastProvider maxToasts={3}>
  <div className="flex flex-wrap gap-2">
    <ToastTrigger 
      buttonText="Success" 
      toastMessage="Action completed!" 
      toastType="success" 
    />
    <ToastTrigger 
      buttonText="Error" 
      toastMessage="Something went wrong" 
      toastType="error" 
    />
    <ToastTrigger 
      buttonText="Info" 
      toastMessage="Here's some information"
      toastDescription="Additional details about this notification."
      toastType="info" 
    />
    <ToastTrigger 
      buttonText="Warning" 
      toastMessage="Please be careful" 
      toastType="warning" 
    />
  </div>
</ToastProvider>`}
>
  <ToastProvider maxToasts={3}>
    <div className="flex flex-wrap gap-2">
      <ToastTrigger 
        buttonText="Success" 
        toastMessage="Payment processed successfully" 
        toastType="success" 
      />
      <ToastTrigger 
        buttonText="Error" 
        toastMessage="Failed to process request" 
        toastType="error" 
      />
      <ToastTrigger 
        buttonText="Info" 
        toastMessage="New update is now available"
        toastType="info" 
      />
      <ToastTrigger 
        buttonText="Warning" 
        toastMessage="Please review and confirm" 
        toastType="warning" 
      />
    </div>
  </ToastProvider>
</Preview>

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `message` | `string` | - | Toast message text |
| `type` | `"success"` \| `"error"` \| `"info"` \| `"warning"` | `"success"` | Toast type/variant |
| `duration` | `number` | `3000` | Auto-dismiss duration in milliseconds |
| `onClose` | `() => void` | - | Callback when toast closes |
| `className` | `string` | - | Additional CSS classes |
